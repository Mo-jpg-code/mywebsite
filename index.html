<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>iPhone 15 Pro - Dynamic Island Unveiled</title>
    <style>
        :root {
            --bg-primary: #050507; /* Even deeper black */
            --bg-secondary: #16161A;
            --text-primary: #FCFCFD;
            --text-secondary: #A8A8AD;
            --accent-dynamic-island: #007AFF; /* Blue for primary DI interactions */
            --accent-music: #F94C66;      /* Vibrant Pink/Red for Music */
            --accent-maps: #34C759;       /* Green for Maps */
            --accent-timer: #FF9500;      /* Orange for Timer */
            --accent-call: #5856D6;       /* Purple for Call */
            --accent-neutral: #505053;

            --font-heading: "SF Pro Display", -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif;
            --font-body: "SF Pro Text", -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif;

            --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1); /* Bouncy, interactive feel */
            --ease-apple-smooth: cubic-bezier(0.4, 0.0, 0.2, 1);
            --ease-out-swift: cubic-bezier(0.16, 1, 0.3, 1);


            --transition-default: 0.7s;
            --transition-island-morph: 0.5s;
        }

        /* Base Reset */
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html, body {
            width: 100%; height: 100%; overflow: hidden;
            background-color: var(--bg-primary); color: var(--text-primary);
            font-family: var(--font-body);
            -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
        }

        .animation-stage { width: 100%; height: 100%; position: relative; overflow: hidden; }

        /* Scene Structure */
        .scene {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; visibility: hidden;
            transform: scale(0.95) translateY(20px); /* Subtle entry animation */
            transition: opacity var(--transition-default) var(--ease-apple-smooth),
                        transform var(--transition-default) var(--ease-apple-smooth),
                        visibility 0s linear var(--transition-default);
            padding: 6vmin;
            will-change: opacity, transform;
        }
        .scene.active { opacity: 1; visibility: visible; transform: scale(1) translateY(0); transition-delay: 0s; z-index: 10; }
        .scene.exiting { opacity: 0; transform: scale(0.95) translateY(-20px); z-index: 5; }

        /* iPhone 2D Mockup - Centered for DI focus */
        .iphone-container {
            position: relative; /* Will be centered on stage */
            width: 40vmin; height: 80vmin;
            max-width: 200px; max-height: 400px;
            opacity: 0; transform: scale(0.8);
            transition: opacity 1s var(--ease-out-swift), transform 1s var(--ease-out-swift);
            z-index: 50;
        }
        .iphone-container.visible { opacity: 1; transform: scale(1); }

        .iphone-body {
            width: 100%; height: 100%;
            background-color: var(--bg-secondary);
            border: 0.7vmin solid var(--accent-neutral);
            border-radius: 7vmin; position: relative;
            box-shadow: 0 1.2vmin 3vmin rgba(0,0,0,0.25);
        }
        .iphone-screen {
            position: absolute; top: 1.2vmin; left: 1.2vmin;
            width: calc(100% - 2.4vmin); height: calc(100% - 2.4vmin);
            background-color: #000; border-radius: 5.5vmin;
            overflow: hidden; display: flex; flex-direction: column; align-items: center;
        }

        /* Dynamic Island - THE STAR */
        .dynamic-island-host { /* Positioner for the DI */
            margin-top: 3.5%; position: relative;
            width: 32%; min-width: 65px; height: 5%; min-height: 16px;
            /* Base state, actual DI is inside */
        }
        .dynamic-island {
            position: absolute; top: 0; left: 50%; transform: translateX(-50%);
            background-color: #000;
            border-radius: 2.5vmin; /* Pill shape */
            transition: width var(--transition-island-morph) var(--ease-spring),
                        height var(--transition-island-morph) var(--ease-spring),
                        border-radius var(--transition-island-morph) var(--ease-spring),
                        transform var(--transition-island-morph) var(--ease-spring);
            display: flex; justify-content: space-between; align-items: center;
            padding: 0.8vmin 1.5vmin;
            overflow: hidden;
            color: white;
            will-change: width, height, border-radius, transform;
        }
        /* Base pill shape */
        .dynamic-island.pill { width: 100%; height: 100%; }

        /* Expanded States */
        .dynamic-island.medium-expanded { /* For alerts, music compact */
            width: 180%; /* Relative to host width */
            height: 130%;
            border-radius: 3.5vmin;
        }
        .dynamic-island.large-expanded { /* For calls, detailed maps */
            width: 250%;
            height: 200%;
            border-radius: 4.5vmin;
        }
        .dynamic-island.full-width-banner {
            width: calc(var(--phone-screen-width) * 0.9); /* Accessing this via JS */
            max-width: 90%; /* Fallback */
            height: 150%;
            border-radius: 3.5vmin;
        }


        /* Content within Dynamic Island */
        .di-content {
            opacity: 0; transform: scale(0.9);
            transition: opacity 0.3s var(--ease-apple-smooth) 0.15s, transform 0.3s var(--ease-apple-smooth) 0.15s;
            font-size: max(1.8vmin, 10px); font-weight: 500;
            display: flex; align-items: center; gap: 1vmin;
            white-space: nowrap;
            width: 100%; /* Ensure content can fill expanded DI */
        }
        .dynamic-island.active .di-content { opacity: 1; transform: scale(1); }

        .di-icon { width: 3vmin; height: 3vmin; fill: currentColor; }
        .di-icon svg { display: block; width: 100%; height: 100%; }
        .di-text { flex-grow: 1; text-align: left; }
        .di-text-small { font-size: 0.8em; color: var(--text-secondary); }
        .di-trailing-content { margin-left: auto; display: flex; align-items: center; }
        
        /* Specific DI Feature Styles */
        .di-music-controls .di-icon { color: var(--accent-music); }
        .di-maps-navigation .di-icon { color: var(--accent-maps); }
        .di-timer-display .di-icon { color: var(--accent-timer); }
        .di-call-status .di-icon { color: var(--accent-call); }
        .di-call-status .di-avatar { width: 4vmin; height: 4vmin; border-radius: 50%; background-color: var(--accent-neutral); margin-right: 1vmin; }

        /* Waveform for music (simple CSS) */
        .di-waveform { display: flex; align-items: flex-end; height: 2.5vmin; gap: 0.3vmin; }
        .di-waveform .bar { width: 0.4vmin; background-color: var(--accent-music); border-radius: 0.2vmin; animation: diWave 1s infinite ease-in-out alternate; }
        .di-waveform .bar:nth-child(1) { height: 60%; animation-delay: 0s; }
        .di-waveform .bar:nth-child(2) { height: 100%; animation-delay: 0.2s; }
        .di-waveform .bar:nth-child(3) { height: 80%; animation-delay: 0.4s; }
        @keyframes diWave { 0% { height: 20%; } 100% { height: 100%; } }


        /* Text & Titles for DI Feature Scenes */
        .feature-title-overlay {
            position: absolute; top: 10vh; left: 50%; transform: translateX(-50%);
            font-family: var(--font-heading); font-size: clamp(5vmin, 7vw, 8vmin); font-weight: 600;
            text-align: center;
            opacity: 0; transform: translateX(-50%) translateY(15px);
            transition: opacity var(--transition-default) var(--ease-out-swift), transform var(--transition-default) var(--ease-out-swift);
            will-change: opacity, transform;
        }
        .scene.active .feature-title-overlay.visible { opacity: 1; transform: translateX(-50%) translateY(0); }
        
        .feature-description-overlay {
            position: absolute; bottom: 10vh; left: 50%; transform: translateX(-50%);
            font-size: clamp(3vmin, 4vw, 4.5vmin); color: var(--text-secondary);
            text-align: center; max-width: 70vmin;
            opacity: 0; transform: translateX(-50%) translateY(15px);
            transition: opacity var(--transition-default) var(--ease-out-swift) 0.2s, transform var(--transition-default) var(--ease-out-swift) 0.2s; /* Staggered */
        }
        .scene.active .feature-description-overlay.visible { opacity: 1; transform: translateX(-50%) translateY(0); }

        /* General Titles (Intro/Outro) */
        .main-title {
            font-family: var(--font-heading); font-size: clamp(8vmin, 12vw, 14vmin); font-weight: 700;
            line-height: 1.05; text-align: center;
        }
        .sub-title {
            font-size: clamp(4vmin, 5.5vw, 6vmin); color: var(--text-secondary);
            margin-top: 2vmin; text-align: center;
        }


        /* SVG Icons (Inline for simplicity) */
        .svg-icon-music path { fill: var(--accent-music); }
        .svg-icon-maps path { fill: var(--accent-maps); }
        .svg-icon-timer path { fill: var(--accent-timer); }
        .svg-icon-call path { fill: var(--accent-call); }

    </style>
</head>
<body>
    <div class="animation-stage">

        <div class="iphone-container" id="iphoneContainer">
            <div class="iphone-body">
                <div class="iphone-screen" id="iphoneScreen">
                    <div class="dynamic-island-host" id="dynamicIslandHost">
                        <div class="dynamic-island pill" id="dynamicIsland">
                            <!-- Content injected by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scenes -->
        <div class="scene" id="scene-intro-title">
            <h1 class="main-title">Dynamic Island.</h1>
            <h2 class="sub-title">Magically surfaces what you need, right when you need it.</h2>
        </div>
        
        <!-- Dynamic Island Feature Scenes -->
        <div class="scene" id="di-scene-music">
            <h3 class="feature-title-overlay" id="title-music">Now Playing</h3>
            <p class="feature-description-overlay" id="desc-music">Control your music without leaving the app you're in.</p>
        </div>
        <div class="scene" id="di-scene-maps">
            <h3 class="feature-title-overlay" id="title-maps">Navigation</h3>
            <p class="feature-description-overlay" id="desc-maps">Turn-by-turn directions, glanceable and intuitive.</p>
        </div>
        <div class="scene" id="di-scene-timer">
            <h3 class="feature-title-overlay" id="title-timer">Timer</h3>
            <p class="feature-description-overlay" id="desc-timer">Keep track of timers and other live activities.</p>
        </div>
        <div class="scene" id="di-scene-call">
            <h3 class="feature-title-overlay" id="title-call">Incoming Call</h3>
            <p class="feature-description-overlay" id="desc-call">Answer or decline calls without interruption.</p>
        </div>
        <div class="scene" id="di-scene-multitask">
             <h3 class="feature-title-overlay" id="title-multitask">Multiple Activities</h3>
            <p class="feature-description-overlay" id="desc-multitask">Dynamic Island handles multiple alerts and activities at once.</p>
        </div>


        <div class="scene" id="scene-outro-title">
            <h1 class="main-title">iPhone 15 Pro</h1>
            <h2 class="sub-title">With the incredibly innovative Dynamic Island.</h2>
        </div>
    </div>

    <!-- SVG Icons -->
    <svg width="0" height="0" style="position:absolute;visibility:hidden;">
        <defs>
            <g id="icon-music-note"> <path d="M12 3v10.55A4.003 4.003 0 0010 13a4 4 0 104 4V7h4V3h-6zm-2 12a2 2 0 110-4 2 2 0 010 4z"/> </g>
            <g id="icon-map-pin"> <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"/> </g>
            <g id="icon-timer"> <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-.25-13.55l-.24 1.7L15.5 12l-3.99 3.85.24 1.7L17.5 12l-5.75-5.55zM11 6v6h2V6h-2z"/> </g>
            <g id="icon-phone"> <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/> </g>
        </defs>
    </svg>

    <script>
    const DI_SCENES_CONFIG = [
        { id: 'scene-intro-title', duration: 4000, iphone: { visible: false } },
        { 
            id: 'di-scene-music', duration: 5000, iphone: { visible: true },
            di: { 
                initial: 'pill',
                sequence: [
                    { state: 'medium-expanded', delay: 500, content:音乐Content('Song Title', 'Artist Name') },
                    { state: 'pill', delay: 3500, content: '' }
                ]
            } 
        },
        { 
            id: 'di-scene-maps', duration: 5500, iphone: { visible: true },
            di: {
                initial: 'pill',
                sequence: [
                    { state: 'large-expanded', delay: 500, content:地图Content('Next Turn: Right on Main St', '0.5 mi') },
                    { state: 'pill', delay: 4000, content: '' }
                ]
            }
        },
        {
            id: 'di-scene-timer', duration: 5000, iphone: { visible: true },
            di: {
                initial: 'pill',
                sequence: [
                    { state: 'medium-expanded', delay: 500, content:计时器Content('Timer', '00:05:30') },
                    { state: 'pill', delay: 3500, content: '' }
                ]
            }
        },
        {
            id: 'di-scene-call', duration: 6000, iphone: { visible: true },
            di: {
                initial: 'pill',
                sequence: [
                    // Quick full width banner, then shrinks to large expanded for call UI
                    { state: 'full-width-banner', type: 'incoming-call', delay: 500, content:来电Content('Jane Doe', 'Mobile') },
                    { state: 'large-expanded', type: 'active-call', delay: 1500, content:通话中Content('Jane Doe', '01:23') }, // morph to active call UI
                    { state: 'pill', delay: 3000, content: '' }
                ]
            }
        },
         {
            id: 'di-scene-multitask', duration: 6000, iphone: { visible: true },
            di: {
                type: 'multitask', // Special handling
                initial: 'pill',
                sequence: [ // This would be more complex, showing two activities splitting the island
                    // For simplicity, we'll just show one then the other
                    { state: 'medium-expanded', type: 'music-compact', delay: 500, content:音乐ContentCompact('Tiny Song')}, // Music on one side
                    // JS would need to split the DI into two bubbles here, which is complex.
                    // Simulating by showing a different state after a bit.
                    { state: 'medium-expanded', type: 'timer-compact', delay: 2500, content:计时器Content('Another Timer', '02:10') }, // Timer appears
                    { state: 'pill', delay: 2000, content: '' }
                ]
            }
        },
        { id: 'scene-outro-title', duration: 4500, iphone: { visible: true, finalScale: 1.05 } }
    ];

    // DI Content Generators
    function 音乐Content(title, artist) { return `<div class="di-content di-music-controls"><span class="di-icon"><svg viewBox="0 0 24 24"><use href="#icon-music-note"/></svg></span><div class="di-text">${title}<div class="di-text-small">${artist}</div></div><div class="di-trailing-content di-waveform"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div></div>`; }
    function 音乐ContentCompact(title) { return `<div class="di-content di-music-controls"><span class="di-icon"><svg viewBox="0 0 24 24"><use href="#icon-music-note"/></svg></span><div class="di-text">${title}</div></div>`; }
    function 地图Content(instruction, distance) { return `<div class="di-content di-maps-navigation"><span class="di-icon"><svg viewBox="0 0 24 24"><use href="#icon-map-pin"/></svg></span><div class="di-text">${instruction}<div class="di-text-small">${distance}</div></div><div class="di-trailing-content"><span class="di-icon" style="transform: rotate(45deg);"><svg viewBox="0 0 24 24"><path d="M3 11l19-9L12.5 21.5 11 13 3 11z"/></svg></span></div></div>`; }
    function 计时器Content(label, time) { return `<div class="di-content di-timer-display"><span class="di-icon"><svg viewBox="0 0 24 24"><use href="#icon-timer"/></svg></span><div class="di-text">${label}</div><div class="di-trailing-content" style="color:var(--accent-timer); font-weight:600;">${time}</div></div>`; }
    function 来电Content(name, type) { return `<div class="di-content di-call-status"><div class="di-avatar"></div><div class="di-text">${name}<div class="di-text-small">${type}</div></div><div class="di-trailing-content" style="display:flex; gap:1.5vmin;"><span class="di-icon" style="color:#E53E3E; background-color:rgba(229,62,62,0.2); padding:0.5vmin; border-radius:50%;"><svg viewBox="0 0 24 24"><use href="#icon-phone" style="transform: rotate(135deg) scale(0.8);"/></svg></span><span class="di-icon" style="color:#34C759; background-color:rgba(52,199,89,0.2); padding:0.5vmin; border-radius:50%;"><svg viewBox="0 0 24 24"><use href="#icon-phone" style="transform: scale(0.8);"/></svg></span></div></div>`; }
    function 通话中Content(name, duration) { return `<div class="di-content di-call-status"><div class="di-avatar"></div><div class="di-text">${name}<div class="di-text-small" style="color:var(--accent-call);">${duration}</div></div><div class="di-trailing-content di-waveform" style="height:1.5vmin;"><div class="bar" style="background-color:var(--accent-call);"></div><div class="bar" style="background-color:var(--accent-call);"></div><div class="bar" style="background-color:var(--accent-call);"></div></div></div>`; }


    let currentSceneIndex = -1;
    let sceneTimeout, diSequenceTimeout;

    const iphoneContainerEl = document.getElementById('iphoneContainer');
    const dynamicIslandEl = document.getElementById('dynamicIsland');
    const iphoneScreenEl = document.getElementById('iphoneScreen'); // For DI banner width

    function setDynamicIslandState(stateClass, htmlContent = '') {
        clearTimeout(diSequenceTimeout);
        dynamicIslandEl.className = 'dynamic-island'; // Reset classes
        if (stateClass) dynamicIslandEl.classList.add(stateClass);
        dynamicIslandEl.innerHTML = htmlContent;
        // For full-width-banner, adjust width based on screen
        if (stateClass === 'full-width-banner') {
            dynamicIslandEl.style.width = `${iphoneScreenEl.offsetWidth * 0.92}px`;
        } else {
            dynamicIslandEl.style.width = ''; // Revert to CSS % based on host
        }
        setTimeout(() => { // Add active class after a tick for transition
             if(htmlContent) dynamicIslandEl.classList.add('active');
        }, 20);
    }

    function playDynamicIslandSequence(sequence, initial) {
        setDynamicIslandState(initial, ''); // Start with initial state and no content
        let currentIndex = 0;
        function nextStep() {
            if (currentIndex >= sequence.length) return;
            const step = sequence[currentIndex];
            diSequenceTimeout = setTimeout(() => {
                setDynamicIslandState(step.state, step.content);
                currentIndex++;
                nextStep();
            }, step.delay);
        }
        nextStep();
    }


    function transitionToScene() {
        clearTimeout(sceneTimeout);
        clearTimeout(diSequenceTimeout); // Stop any ongoing DI animation

        if (currentSceneIndex > -1) {
            const oldSceneEl = document.getElementById(DI_SCENES_CONFIG[currentSceneIndex].id);
            if (oldSceneEl) {
                oldSceneEl.classList.remove('active');
                oldSceneEl.classList.add('exiting');
                oldSceneEl.querySelectorAll('.feature-title-overlay, .feature-description-overlay').forEach(el => el.classList.remove('visible'));
            }
        }
        
        document.querySelectorAll('.scene.exiting').forEach(s => {
            if (s.id !== (DI_SCENES_CONFIG[currentSceneIndex] ? DI_SCENES_CONFIG[currentSceneIndex].id : null)) {
                s.classList.remove('exiting');
            }
        });

        currentSceneIndex = (currentSceneIndex + 1) % DI_SCENES_CONFIG.length;
        const config = DI_SCENES_CONFIG[currentSceneIndex];
        const currentSceneEl = document.getElementById(config.id);

        currentSceneEl.classList.add('active');
        currentSceneEl.querySelectorAll('.feature-title-overlay, .feature-description-overlay').forEach(el => {
             setTimeout(() => el.classList.add('visible'), 200); // Delay for scene transition
        });

        // iPhone visibility & positioning
        iphoneContainerEl.classList.toggle('visible', config.iphone.visible !== false);
        if(config.iphone.finalScale) {
            iphoneContainerEl.style.transform = `scale(${config.iphone.finalScale})`;
        } else if (config.iphone.visible) {
            iphoneContainerEl.style.transform = 'scale(1)';
        }


        // Dynamic Island animations
        if (config.di) {
            playDynamicIslandSequence(config.di.sequence, config.di.initial);
        } else {
            setDynamicIslandState('pill', ''); // Default to pill if no DI config for scene
        }

        sceneTimeout = setTimeout(transitionToScene, config.duration);
    }

    window.onload = () => {
        transitionToScene();
    };

    </script>
</body>
</html>
